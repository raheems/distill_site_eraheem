---
title: "How NA affects your analysis differently in R vs SAS"
slug: how-na-affects-analysis-differently-in-r-vs-sas
description: |
  SAS and R handles missing values differently. R's handling of issing value is somewhat intuitive. For SAS, it treats missing value as the smallest value in the column.
author:
  - name: Enayetur Raheem
    url: 
date: 06-19-2021
creative_commons: CC BY
output:
  distill::distill_article:
    self_contained: false
    highlight: default
    toc: true
    citation: true
preview: https://eraheem-distill.netlify.app/images/missing.jpg
rss:
  full_content: true
  categories:
    - R
    - Python
    - Data analysis
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(distill)
library(tidyverse)
# rename_post_dir("_posts/2021-06-19-poststestname")
```

If you are a statistician And use our and sass software in your workflow then you probably have encountered this particular issue that I'm going to talk about. It's about how missing values are in their values are handled differently in these two software systems. 

To me how R Handles missing values is intuitive. However if you often if you do not use are if you do not use as frequently but only use it to Raleigh then you need to be very careful about how sassy handles missing values. 

Will be best if I show you an example. 

Let's create a fake data set. 

```{r, echo=TRUE}
df = data.frame(name= c("John", "Rumi", "Samia"),
                age = c(30, 20, NA))
df
```

Let's create a new variable based on condition unavailable that has a missing value.

```{r, echo=TRUE}
df %>% 
  mutate(
    age_under_20_flag = case_when(
      age <= 20 ~ 1,
      TRUE ~ 0
    ),
    
    age_under_20_flag_ifelse = if_else(age <= 20, 1, 0)
  )
```

Let's see how it does and SAS.

```
/* test data set to demonstrate how SAS handles missing values */

data df;
input name $ age;
cards;
John 30
Rumi 20
Samia .
;
run;

```

Now lets create the same flag if age equal or below 20

```{}
data df2;
  set df;
  if age <= 20 then age_under_20_flag = 1;
  else age_under_20_flag = 0;
run;

```

Now notice how SAS handled the missing value. SAS considers missing value as the smallest value in your column. Thus you really have to handle missing value separately, in this case, prior to applying the if

![](sas_na_handling.png)


```{r, fig.align='center', out.width='120%'}
# knitr::include_graphics(here::here("sas_na_handling.png"))
```


